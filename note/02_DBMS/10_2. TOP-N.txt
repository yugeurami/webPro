[TOP-N]
TOP-N질의는 컬럼의 값 중 N개의 가장 큰 값 또는 작은 값을 기준으로 질의하는 것
TOP 1~10등/ TOP 11~20등 / TOP 6~10등


1. ROWNUM
FROM절의 테이블로 부터 가져온 순서

﻿SELECT ROWNUM, ENAME FROM EMP WHERE DEPTNO=20;
SELECT ROWNUM, ENAME FROM EMP WHERE DEPTNO=20 ORDER BY ENAME;



2. TOP-N 구문

-- SAL 기준으로 1~5등
SELECT ROWNUM, ENAME, SAL
FROM (SELECT ENAME, SAL FROM EMP ORDER BY SAL DESC)
WHERE ROWNUM <=5;

-- SAL 기준으로 6~10등
SELECT ROWNUM, ENAME, SAL
FROM (SELECT ENAME, SAL FROM EMP ORDER BY SAL DESC)
WHERE ROWNUM BETWEEN 6 AND 10; -- 결과가 한행도 안나옴

-- TOP-N 구문 1단계
SELECT ROWNUM RN, ENAME, SAL
FROM (SELECT ENAME, SAL FROM EMP ORDER BY SAL DESC);

-- TOP-N 구문 완성
SELECT ROWNUM, RN, ENAME, SAL
FROM (SELECT ROWNUM RN, ENAME, SAL FROM (SELECT ENAME, SAL FROM EMP ORDER BY SAL DESC))
WHERE RN BETWEEN 6 AND 10;﻿


﻿
